# =========================
# Runtime / Environment
# =========================
# NOTE (DEV): per usare davvero queste variabili in locale, crea un file
#   ops/dev.env (NON committare segreti) copiando questo sample e poi avvia con:
#   - `npm run dev` (il server auto-carica ops/dev.env in development)
#   - oppure imposta `APP_ENV_FILE=ops/dev.env`
# Se DATABASE_URL è vuoto, il server disabilita il DB e /register non salva su Neon.
APP_ENV=dev
NODE_ENV=production
HOST=127.0.0.1
PORT=5000
TIMEZONE=Europe/Rome
LOG_LEVEL=info

# Sirplay verification
SIRPLAY_VERIFY_MODE=relaxed

# Hybrid: supporta utenti Sirplay + utenti Kasyrooms
AUTH_MODE=hybrid


# =========================
# URLs / Domains
# =========================
BASE_URL=https://dev.kasyrooms.com
PUBLIC_URL=https://dev.kasyrooms.com
FRONTEND_URL=https://dev.kasyrooms.com
CORS_ORIGIN=https://dev.kasyrooms.com


# =========================
# Database (Neon Postgres - DEV)
# (sensibile: lasciare vuoto nel sample)
# =========================
DATABASE_URL=
DATABASE_DIRECT_URL=


# =========================
# Redis
# =========================
REDIS_URL=redis://localhost:6379


# =========================
# Auth / Security
# (sensibile)
# =========================
JWT_SECRET=
SESSION_SECRET=

COOKIE_NAME=kr_sid
COOKIE_SECURE=true
COOKIE_SAME_SITE=lax


# =========================
# Sirplay B2B (Sirplay → Kasyrooms)
# (sensibile)
# =========================
B2B_BASIC_AUTH_USER=
B2B_BASIC_AUTH_PASS=

# Legacy aliases (compatibilità)
SIRPLAY_B2B_USER=
SIRPLAY_B2B_PASSWORD=


# =========================
# Sirplay API (Kasyrooms → Sirplay)
# =========================
SIRPLAY_API_URL=https://proxykasynoir.kasynoir.com
SIRPLAY_BASE_URL=https://proxykasynoir.kasynoir.com

# (sensibile)
SIRPLAY_ACCESS_USER=
SIRPLAY_ACCESS_PASS=

SIRPLAY_PARTNER_ID=501
SIRPLAY_CUSTOMER_ID=572

# (sensibile / se usato)
SIRPLAY_WALLET_PASSPORT=


# =========================
# Sirplay Webhook Security
# (sensibile)
# =========================
SIRPLAY_WEBHOOK_SECRET=
SIRPLAY_WEBHOOK_SIGNATURE_HEADER=x-sirplay-signature
SIRPLAY_WEBHOOK_TIMESTAMP_HEADER=x-sirplay-timestamp


# =========================
# TURN / WebRTC
# (TURN creds sensibili)
# =========================
TURN_URL=
TURN_USER=
TURN_PASS=

SIGNALING_INTERNAL_PORT=5500
SIGNALING_PUBLIC_URL=wss://dev.kasyrooms.com/signaling
STUN_SERVERS=["stun:stun.l.google.com:19302"]


# =========================
# Email
# (sensibile)
# =========================
SMTP_HOST=smtp.zoho.eu
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASS=
SMTP_FROM="Kasyrooms <noreply@kasyrooms.com>"


# =========================
# Misc
# =========================
FORCE_PROXY_IMAGES=1
CSP_IMG_ALLOW_ALL=0
IMAGE_PROXY_ALLOWED_HOSTS=images.unsplash.com,plus.unsplash.com,images.pexels.com,cdn.pixabay.com
